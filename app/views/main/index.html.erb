<%= stylesheet_link_tag     'main/index.css', media: 'all' %>
<%= javascript_include_tag  'main/algorithms.js' %>

<script>
  var current_user_id = <%= @current_user.id %>
</script>

<%= javascript_include_tag  'main/index.js' %>


<div class="ui-layout-west">
<div>
  <img border="0" src="/Logo.jpg" width="100%">
</div>
    <!-- DIV for tabs -->
  <div class="ui-layout-content" id="tabs">
    <ul>
      <li> <a href="#tab-1">Upload</a> </li>
      <li>  <a href="#tab-2">Configure and Run</a>  </li>
      <li>  <a href="#tab-3">Visualize </a> </li>
      <li> <a href="#tab-4"> Allegate </a> </li>
    </ul>
           <!-- This is tab 1 -->
    <div id="tab-1"> 
      <div class = "accordion" >
        <h3 id="upload_claims_header">Upload Datasets</h3>
        <div> 
          <span class="btn btn-success fileinput-button">
            <span>Select files...</span>
            <!-- The file input field used as target for the file upload widget -->
            <input class="fileupload" type="file" name="csv" data-url="/datasets?kind=claims" multiple>
          </span>
           <span class='info-icon ui-icon ui-icon-info' id='claim_icon' title='Download example file'>
             <div id='claim_dialog' title='Download Example'>
               <p><a href="/example.csv">Book</a></p>
               <p><a href="/flight1.csv">Flight</a></p>
               <p><a href="/weather1.csv">Weather</a></p>
             </div>
           </span>
           <button type="button" class="btn btn-warning cancel" disabled="disabled">Cancel upload</button>
          <!-- The global progress bar -->
          <div class="progress">
            <div class="progress-bar progress-bar-success"></div>
          </div>
          <table id='claims_datasets_table' class="display" cellspacing="0" width="100%">
            <thead class='header_row'>
              <tr>
                <th> File Name </th>
                <th> Uploading Date </th>
                <th> Row Count</th>
                <th> Delete </th>
              </tr>
            </thead>
            <tbody id= 'datasets_claims_tbody'>   </tbody>
          </table>
        </div>
        <h3 id="upload_ground_header">Upload Ground Truth Datasets (optional)</h3>
        <div>
          <span class="btn btn-success fileinput-button">
            <span>Select files...</span>
            <!-- The file input field used as target for the file upload widget -->
            <input class="fileupload" type="file" name="csv" data-url="/datasets?kind=ground" multiple>
          </span>
           <span class='info-icon ui-icon ui-icon-info' id='ground_icon' title='Download Example File'>
            <div id='ground_dialog' title='Download Example'>
              <p><a href="/book_golden.csv">Book</a></p>
               <p><a href="/example.csv">Flight</a></p>
               <p><a href="/example.csv">Weather</a></p>
            </div>
          </span>
          <button type="button" class="btn btn-warning cancel" disabled="disabled">Cancel upload</button>
          <!-- The global progress bar -->
          <div class="progress">
            <div class="progress-bar progress-bar-success"></div>
          </div>
          <table id='ground_datasets_table' class="display" cellspacing="0" width="100%">
            <thead>
              <th> File Name </th>
              <th> Uploading Date </th>
              <th> Row Count </th>
              <th> Delete </th>
            </thead>
            <tbody id="datasets_ground_tbody"></tbody>
          </table>
        </div>
        <h3>Select one (or more) algorithm(s):</h3>
        <div id="algo_pane">
          <p></p>
        </div>
      </div>
    </div>

    <!-- This is tab 2 -->
    <div id="tab-2"> <div id ="tab_pane" class="accordion"> </div> 
      <button id="start_button">START!</button>
    </div>
    <!-- This is tab 3 -->
    <div id="tab-3"> 
      <div>
        
        
      </div>
    </div>  
  </div>
</div>

<div class="ui-layout-center inner">
    <div class="ui-layout-west">
      <table class="display" id="source_id_datatable" >
      </table>

        <input type="checkbox" value="source_nrmalize"> Normalize Truthworthiness & Confidence
    </div>
    <div class="ui-layout-center">
      <table class="display" id="object_key_datatable" >
      </table>
    </div>
    <div class="ui-layout-east">
      <table id="datatable" class="display" cellspacing="0" width="100%">
      </table>
        <input type="checkbox" value="datatable_normalize"> Normalize Truthworthiness & Confidence
    </div>  
  
  <div class= "ui-layout-south">
    <table id = "run_table" class="display" cellspacing="0" width="100%">
          <thead>
            <tr>
              <th> Run ID </th>
              <th>Started at</th>
              <th>Algorithm</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
        </table>
  </div>
</div>

<div id="user_nav">
    <% if user_signed_in? %>
        Signed in as <%= current_user %>.
        <%= link_to 'Change password', edit_user_registration_path %> -
        <%= link_to 'Sign out', destroy_user_session_path, :method => :delete %>
    <% end %>
</div>
